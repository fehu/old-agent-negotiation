[ ] constraints must be refactored to support separate condition tests
[ ] agent reporting for light
[ ] connect web backend